<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>L·ªãch h·ªçc & Sinh ho·∫°t</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>L·ªãch tr√¨nh sinh ho·∫°t & h·ªçc t·∫≠p</h1>
  <div id="datetime"></div>

  <div>
    <label>Ch·ªçn ng√†y: </label>
    <select id="daySelect" onchange="showSchedule(this.value)">
      <option value="0">Th·ª© 2</option>
      <option value="1">Th·ª© 3</option>
      <option value="2">Th·ª© 4</option>
      <option value="3">Th·ª© 5</option>
      <option value="4">Th·ª© 6</option>
      <option value="5">Th·ª© 7</option>
      <option value="6">Ch·ªß Nh·∫≠t</option>
    </select>
  </div>

  <table border="1" id="scheduleTable">
    <thead>
      <tr>
        <th>Th·ªùi gian</th>
        <th>Ho·∫°t ƒë·ªông</th><!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th·ªùi Kh√≥a Bi·ªÉu v·ªõi Th√¥ng B√°o</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c 0%, #b21f1f 50%, #fdbb2d 100%);
            color: #333;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
            padding: 20px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .description {
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .stat-card h3 {
            color: #b21f1f;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #1a2a6c;
            margin: 10px 0;
        }
        
        .stat-desc {
            color: #666;
            font-size: 0.9rem;
        }
        
        .notification-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .notification-section h2 {
            color: #b21f1f;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn {
            background: #007AFF;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 1rem;
            cursor: pointer;
            margin: 10px 5px;
            transition: background 0.3s;
        }
        
        .btn:hover {
            background: #0056CC;
        }
        
        .btn-secondary {
            background: #6c757d;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .status {
            padding: 10px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: 500;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status.info {
            background: #cce5ff;
            color: #004085;
        }
        
        .time-display {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .time-display h2 {
            color: #b21f1f;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        #current-time {
            font-size: 2.5rem;
            font-weight: bold;
            color: #1a2a6c;
            margin: 10px 0;
        }
        
        .timeline {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .timeline h2 {
            color: #b21f1f;
            margin-bottom: 20px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .timeline-item {
            display: flex;
            margin-bottom: 20px;
            position: relative;
        }
        
        .timeline-time {
            width: 100px;
            font-weight: bold;
            color: #1a2a6c;
        }
        
        .timeline-content {
            flex: 1;
            padding: 10px 15px;
            background: #f8f9fa;
            border-radius: 8px;
            position: relative;
        }
        
        .timeline-content::before {
            content: '';
            position: absolute;
            left: -10px;
            top: 12px;
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 10px solid #f8f9fa;
        }
        
        .timeline-marker {
            width: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .timeline-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #b21f1f;
            margin-top: 5px;
        }
        
        .timeline-line {
            flex: 1;
            width: 2px;
            background: #b21f1f;
            margin: 5px 0;
        }
        
        .current-item .timeline-content {
            background: #ffeaa7;
            font-weight: bold;
        }
        
        .current-item .timeline-content::before {
            border-right-color: #ffeaa7;
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .tab {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .tab:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .tab.active {
            background: white;
            color: #b21f1f;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        
        .schedule-container {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            margin-bottom: 30px;
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }
        
        th, td {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #f1f1f1;
        }
        
        th {
            background: #b21f1f;
            color: white;
            font-weight: 600;
        }
        
        tr:nth-child(even) {
            background: #f9f9f9;
        }
        
        tr:hover {
            background: #fff4e6;
        }
        
        .time-col {
            font-weight: 600;
            background: #f8f9fa;
        }
        
        .highlight {
            background: #ffeaa7 !important;
            font-weight: 600;
            color: #d35400;
        }
        
        .homework {
            background: #d1ecf1 !important;
            font-weight: 600;
            color: #0c5460;
        }
        
        .sleep {
            background: #e3f2fd !important;
            font-weight: 600;
            color: #1565c0;
        }
        
        .current-activity {
            background: #ffd54f !important;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(255, 213, 79, 0.5);
        }
        
        .notes {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            margin-bottom: 30px;
        }
        
        .notes h2 {
            color: #b21f1f;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f1f1f1;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .notes ul {
            list-style-type: none;
            padding-left: 20px;
        }
        
        .notes li {
            margin-bottom: 12px;
            padding-left: 30px;
            position: relative;
            line-height: 1.6;
        }
        
        .notes li:before {
            content: "‚Ä¢";
            color: #b21f1f;
            font-weight: bold;
            position: absolute;
            left: 0;
            font-size: 1.5rem;
        }
        
        footer {
            text-align: center;
            color: white;
            padding: 20px;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .tab {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            th, td {
                padding: 10px 5px;
                font-size: 0.9rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .stat-value {
                font-size: 2rem;
            }
            
            #current-time {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-calendar-alt"></i> Th·ªùi Kh√≥a Bi·ªÉu Sinh Ho·∫°t & H·ªçc T·∫≠p</h1>
            <p class="description">L·ªãch tr√¨nh ƒë∆∞·ª£c thi·∫øt k·∫ø d√†nh ri√™ng cho b·∫°n v·ªõi c√°c m√¥n h·ªçc v√† ho·∫°t ƒë·ªông c√¢n b·∫±ng gi·ªØa h·ªçc t·∫≠p v√† ngh·ªâ ng∆°i. ƒê√£ c·∫≠p nh·∫≠t th·ªùi gian l√†m b√†i t·∫≠p tr√™n l·ªõp.</p>
        </header>
        
        <!-- Hi·ªÉn th·ªã th·ªùi gian th·ª±c -->
        <div class="time-display">
            <h2><i class="fas fa-clock"></i> Th·ªùi Gian Hi·ªán T·∫°i</h2>
            <div id="current-time">ƒêang t·∫£i...</div>
            <div id="current-date"></div>
        </div>
        
        <!-- Ph·∫ßn th√¥ng b√°o -->
        <div class="notification-section">
            <h2><i class="fas fa-bell"></i> Thi·∫øt L·∫≠p Th√¥ng B√°o</h2>
            <p>Nh·∫≠n th√¥ng b√°o nh·∫Øc nh·ªü ho·∫°t ƒë·ªông h√†ng ng√†y tr√™n iPhone:</p>
            <button class="btn" onclick="enableNotifications()">B·∫≠t Th√¥ng B√°o</button>
            <button class="btn btn-secondary" onclick="testNotify()">Ki·ªÉm Tra Th√¥ng B√°o</button>
            <div id="notificationStatus" class="status info">Tr·∫°ng th√°i: Ch∆∞a k√≠ch ho·∫°t</div>
            
            <div style="margin-top: 20px; text-align: left; background: #f8f9fa; padding: 15px; border-radius: 10px;">
                <h3><i class="fas fa-info-circle"></i> H∆∞·ªõng d·∫´n cho iPhone:</h3>
                <ol>
                    <li>Nh·∫•n "B·∫≠t Th√¥ng B√°o" v√† cho ph√©p tr√¨nh duy·ªát g·ª≠i th√¥ng b√°o</li>
                    <li>Th√™m trang web v√†o m√†n h√¨nh ch√≠nh: Nh·∫•n <i class="fas fa-share-square"></i> ‚Üí "Th√™m v√†o M√†n h√¨nh ch√≠nh"</li>
                    <li>M·ªü ·ª©ng d·ª•ng t·ª´ m√†n h√¨nh ch√≠nh ƒë·ªÉ nh·∫≠n th√¥ng b√°o</li>
                </ol>
            </div>
        </div>
        
        <!-- Timeline -->
        <div class="timeline">
            <h2><i class="fas fa-stream"></i> D√≤ng Th·ªùi Gian H√¥m Nay</h2>
            <div id="timeline-content">
                <!-- N·ªôi dung timeline s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
            </div>
        </div>
        
        <!-- B·∫£ng t·ªïng quan -->
        <div class="dashboard">
            <div class="stat-card">
                <h3><i class="fas fa-book"></i> T·ªïng th·ªùi gian h·ªçc</h3>
                <div class="stat-value" id="total-study">0h</div>
                <p class="stat-desc">M·ªói ng√†y (ch∆∞a bao g·ªìm th·ªùi gian tr√™n l·ªõp)</p>
            </div>
            
            <div class="stat-card">
                <h3><i class="fas fa-bed"></i> T·ªïng th·ªùi gian ng·ªß</h3>
                <div class="stat-value" id="total-sleep">0h</div>
                <p class="stat-desc">M·ªói ng√†y (bao g·ªìm c·∫£ gi·∫•c ng·ªß tr∆∞a)</p>
            </div>
            
            <div class="stat-card">
                <h3><i class="fas fa-brain"></i> Th·ªùi gian t·ª± h·ªçc</h3>
                <div class="stat-value" id="total-self-study">0h</div>
                <p class="stat-desc">M·ªói ng√†y (t·ª± h·ªçc sau gi·ªù l√™n l·ªõp)</p>
            </div>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showSchedule(0)">Th·ª© 2, 4, 6, 7</button>
            <button class="tab" onclick="showSchedule(1)">Th·ª© 3, 5 (H·ªçc th√™m To√°n)</button>
            <button class="tab" onclick="showSchedule(2)">Ch·ªß Nh·∫≠t</button>
        </div>
        
        <div class="schedule-container">
            <table id="schedule">
                <thead>
                    <tr>
                        <th>Th·ªùi gian</th>
                        <th>Ho·∫°t ƒë·ªông</th>
                        <th>Ghi ch√∫</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- N·ªôi dung s·∫Ω ƒë∆∞·ª£c thay ƒë·ªïi b·∫±ng JavaScript -->
                </tbody>
            </table>
        </div>
        
        <div class="notes">
            <h2><i class="fas fa-sticky-note"></i> Ghi ch√∫ v√† l·ªùi khuy√™n</h2>
            <ul>
                <li>∆Øu ti√™n s·ª©c kh·ªèe: ƒê·∫£m b·∫£o ng·ªß ƒë·ªß gi·∫•c v√† ƒÉn u·ªëng ƒë·∫ßy ƒë·ªß ch·∫•t trong c√°c b·ªØa ch√≠nh.</li>
                <li>Linh ho·∫°t: V√†o c√°c ng√†y th·ª© 3,5, khung gi·ªù 16h35-17h30 c·∫ßn s·ª≠ d·ª•ng hi·ªáu qu·∫£ ƒë·ªÉ k·ªãp gi·ªù h·ªçc th√™m.</li>
                <li>B√†i t·∫≠p tr√™n l·ªõp: ƒê√£ th√™m th·ªùi gian l√†m b√†i t·∫≠p v·ªÅ nh√† v√†o bu·ªïi t·ªëi sau gi·ªù h·ªçc.</li>
                <li>Chu·∫©n b·ªã s·∫µn ƒë·ªì ƒë·∫°c v√† c√≥ th·ªÉ ƒÉn m·ªôt b·ªØa nh·∫π nh∆∞ x√¥i, b√°nh bao ƒë·ªÉ c√≥ s·ª©c h·ªçc.</li>
                <li>Ch·ªß nh·∫≠t: H√£y s·ª≠ d·ª•ng ng√†y Ch·ªß nh·∫≠t ƒë·ªÉ √¥n t·∫≠p nh·∫π nh√†ng v√† th∆∞ gi√£n nhi·ªÅu h∆°n.</li>
                <li>Gi·∫£i lao: ƒê·ª´ng qu√™n ngh·ªâ ng∆°i 5-10 ph√∫t gi·ªØa c√°c gi·ªù t·ª± h·ªçc khuya ƒë·ªÉ ƒë·∫ßu √≥c ƒë∆∞·ª£c th∆∞ gi√£n.</li>
            </ul>
        </div>
    </div>
    
    <footer>
        <p>¬© 2023 - Th·ªùi kh√≥a bi·ªÉu c√° nh√¢n | ƒê∆∞·ª£c thi·∫øt k·∫ø d√†nh ri√™ng cho b·∫°n</p>
    </footer>

    <script>
        // D·ªØ li·ªáu th·ªùi kh√≥a bi·ªÉu
        const schedules = [
            // Th·ª© 2, 4, 6, 7
            [
                { time: "22h30 - 2h00", activity: "Ng·ªß ch√≠nh", note: "Gi·∫•c ng·ªß quan tr·ªçng nh·∫•t", highlight: true, category: "sleep", duration: 3.5 },
                { time: "2h00 - 3h30", activity: "To√°n", note: "T·∫≠p trung cao ƒë·ªô", highlight: true, category: "study", duration: 1.5 },
                { time: "3h30 - 4h15", activity: "Tin", note: "Th·ª±c h√†nh b√†i t·∫≠p", highlight: true, category: "study", duration: 0.75 },
                { time: "4h15 - 5h00", activity: "Anh", note: "T·ª´ v·ª±ng v√† ng·ªØ ph√°p", highlight: true, category: "study", duration: 0.75 },
                { time: "5h00 - 5h30", activity: "ƒÇn nh·∫π, th∆∞ gi√£n", note: "B·ªï sung nƒÉng l∆∞·ª£ng", category: "break", duration: 0.5 },
                { time: "5h30 - 6h00", activity: "V·ªá sinh, chu·∫©n b·ªã", note: "Chu·∫©n b·ªã s√°ch v·ªü", category: "prepare", duration: 0.5 },
                { time: "6h00 - 11h30", activity: "ƒêi h·ªçc bu·ªïi s√°ng", note: "T·∫≠p trung nghe gi·∫£ng", category: "class", duration: 5.5 },
                { time: "11h30 - 13h30", activity: "ƒÇn tr∆∞a + Ng·ªß", note: "Ngh·ªâ ng∆°i quan tr·ªçng", highlight: true, category: "break", duration: 2 },
                { time: "13h30 - 14h00", activity: "Chu·∫©n b·ªã bu·ªïi chi·ªÅu", note: "Chu·∫©n b·ªã s√°ch v·ªü", category: "prepare", duration: 0.5 },
                { time: "14h00 - 16h35", activity: "ƒêi h·ªçc bu·ªïi chi·ªÅu", note: "T·∫≠p trung nghe gi·∫£ng", category: "class", duration: 2.58 },
                { time: "16h35 - 17h30", activity: "V·ªÅ nh√†, th∆∞ gi√£n", note: "Ngh·ªâ ng∆°i sau gi·ªù h·ªçc", category: "break", duration: 0.92 },
                { time: "17h30 - 19h30", activity: "ƒÇn t·ªëi + Ngh·ªâ ng∆°i", note: "ƒÇn t·ªëi ƒë√∫ng gi·ªù", category: "break", duration: 2 },
                { time: "19h30 - 20h30", activity: "L√†m b√†i t·∫≠p tr√™n l·ªõp", note: "∆Øu ti√™n m√¥n quan tr·ªçng", homework: true, category: "homework", duration: 1 },
                { time: "20h30 - 21h30", activity: "To√°n", note: "Luy·ªán t·∫≠p, l√†m b√†i t·∫≠p", highlight: true, category: "study", duration: 1 },
                { time: "21h30 - 22h30", activity: "Anh", note: "T·ª´ v·ª±ng, ng·ªØ ph√°p, luy·ªán nghe", highlight: true, category: "study", duration: 1 }
            ],
            // Th·ª© 3, 5 (H·ªçc th√™m To√°n)
            [
                { time: "22h30 - 2h00", activity: "Ng·ªß ch√≠nh", note: "Gi·∫•c ng·ªß quan tr·ªçng nh·∫•t", highlight: true, category: "sleep", duration: 3.5 },
                { time: "2h00 - 3h30", activity: "To√°n", note: "T·∫≠p trung cao ƒë·ªô", highlight: true, category: "study", duration: 1.5 },
                { time: "3h30 - 4h15", activity: "Anh", note: "T·ª´ v·ª±ng v√† ng·ªØ ph√°p", highlight: true, category: "study", duration: 0.75 },
                { time: "4h15 - 5h00", activity: "M√¥n ph·ª•", note: "S·ª≠/ƒê·ªãa/GDCD...", category: "study", duration: 0.75 },
                { time: "5h00 - 5h30", activity: "ƒÇn nh·∫π, th∆∞ gi√£n", note: "B·ªï sung nƒÉng l∆∞·ª£ng", category: "break", duration: 0.5 },
                { time: "5h30 - 6h00", activity: "V·ªá sinh, chu·∫©n b·ªã", note: "Chu·∫©n b·ªã s√°ch v·ªü", category: "prepare", duration: 0.5 },
                { time: "6h00 - 11h30", activity: "ƒêi h·ªçc bu·ªïi s√°ng", note: "T·∫≠p trung nghe gi·∫£ng", category: "class", duration: 5.5 },
                { time: "11h30 - 13h30", activity: "ƒÇn tr∆∞a + Ng·ªß", note: "Ngh·ªâ ng∆°i quan tr·ªçng", highlight: true, category: "break", duration: 2 },
                { time: "13h30 - 14h00", activity: "Chu·∫©n b·ªã bu·ªïi chi·ªÅu", note: "Chu·∫©n b·ªã s√°ch v·ªü", category: "prepare", duration: 0.5 },
                { time: "14h00 - 16h35", activity: "ƒêi h·ªçc bu·ªïi chi·ªÅu", note: "T·∫≠p trung nghe gi·∫£ng", category: "class", duration: 2.58 },
                { time: "16h35 - 17h30", activity: "V·ªÅ nh√† nhanh, chu·∫©n b·ªã", note: "Chu·∫©n b·ªã ƒëi h·ªçc th√™m", category: "prepare", duration: 0.92 },
                { time: "17h30 - 19h30", activity: "ƒêi h·ªçc th√™m To√°n", note: "T·∫≠p trung cao ƒë·ªô", highlight: true, category: "class", duration: 2 },
                { time: "19h30 - 20h30", activity: "V·ªÅ nh√†, ƒÉn t·ªëi mu·ªôn + L√†m b√†i t·∫≠p", note: "ƒÇn nh·∫π, d·ªÖ ti√™u v√† l√†m b√†i t·∫≠p", homework: true, category: "homework", duration: 1 },
                { time: "20h30 - 21h30", activity: "To√°n", note: "√în luy·ªán l·∫°i b√†i v·ª´a h·ªçc", highlight: true, category: "study", duration: 1 },
                { time: "21h30 - 22h30", activity: "Anh", note: "T·ª´ v·ª±ng, ng·ªØ ph√°p, luy·ªán nghe", highlight: true, category: "study", duration: 1 }
            ],
            // Ch·ªß Nh·∫≠t
            [
                { time: "22h30 - 2h00", activity: "Ng·ªß ch√≠nh", note: "Gi·∫•c ng·ªß quan tr·ªçng nh·∫•t", highlight: true, category: "sleep", duration: 3.5 },
                { time: "2h00 - 3h30", activity: "Tin", note: "Th·ª±c h√†nh b√†i t·∫≠p", highlight: true, category: "study", duration: 1.5 },
                { time: "3h30 - 4h15", activity: "Anh", note: "T·ª´ v·ª±ng v√† ng·ªØ ph√°p", highlight: true, category: "study", duration: 0.75 },
                { time: "4h15 - 5h00", activity: "To√°n", note: "Luy·ªán t·∫≠p, l√†m b√†i t·∫≠p", highlight: true, category: "study", duration: 0.75 },
                { time: "5h00 - 5h30", activity: "ƒÇn nh·∫π, th∆∞ gi√£n", note: "B·ªï sung nƒÉng l∆∞·ª£ng", category: "break", duration: 0.5 },
                { time: "5h30 - 6h00", activity: "V·ªá sinh c√° nh√¢n", note: "V·ªá sinh bu·ªïi s√°ng", category: "prepare", duration: 0.5 },
                { time: "6h00 - 11h30", activity: "T·ª± h·ªçc m√¥n ph·ª• / Ngh·ªâ ng∆°i", note: "H·ªçc nh·∫π nh√†ng ho·∫∑c ngh·ªâ ng∆°i", category: "study", duration: 5.5 },
                { time: "11h30 - 13h30", activity: "ƒÇn tr∆∞a + Ng·ªß", note: "Ngh·ªâ ng∆°i quan tr·ªçng", highlight: true, category: "break", duration: 2 },
                { time: "13h30 - 14h00", activity: "Th∆∞ gi√£n", note: "Xem phim, nghe nh·∫°c...", category: "break", duration: 0.5 },
                { time: "14h00 - 16h35", activity: "L√†m b√†i t·∫≠p cu·ªëi tu·∫ßn", note: "Ho√†n th√†nh b√†i t·∫≠p t·ªìn ƒë·ªçng", homework: true, category: "homework", duration: 2.58 },
                { time: "16h35 - 17h30", activity: "Ngh·ªâ ng∆°i", note: "Th∆∞ gi√£n", category: "break", duration: 0.92 },
                { time: "17h30 - 19h30", activity: "ƒÇn t·ªëi + Ngh·ªâ ng∆°i", note: "ƒÇn t·ªëi v√† ngh·ªâ ng∆°i", category: "break", duration: 2 },
                { time: "19h30 - 20h30", activity: "√în t·∫≠p t·ªïng h·ª£p", note: "Xem l·∫°i ki·∫øn th·ª©c tu·∫ßn qua", homework: true, category: "study", duration: 1 },
                { time: "20h30 - 21h30", activity: "To√°n (luy·ªán ƒë·ªÅ, t·ªïng h·ª£p)", note: "Luy·ªán ƒë·ªÅ t·ªïng h·ª£p", highlight: true, category: "study", duration: 1 },
                { time: "21h30 - 22h30", activity: "√în t·∫•t c·∫£ m√¥n (nh·∫π nh√†ng)", note: "Xem l·∫°i notes c√°c m√¥n", highlight: true, category: "study", duration: 1 }
            ]
        ];

        // C·∫≠p nh·∫≠t th·ªùi gian th·ª±c
        function updateDateTime() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            };
            const dateTimeStr = now.toLocaleDateString('vi-VN', options);
            document.getElementById('current-time').textContent = dateTimeStr;
            
            // C·∫≠p nh·∫≠t timeline
            updateTimeline();
            
            // Highlight ho·∫°t ƒë·ªông hi·ªán t·∫°i trong b·∫£ng
            highlightCurrentActivity();
        }

        // C·∫≠p nh·∫≠t timeline
        function updateTimeline() {
            const now = new Date();
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();
            const currentTime = currentHour + currentMinute / 60;
            
            // X√°c ƒë·ªãnh l·ªãch tr√¨nh cho ng√†y h√¥m nay
            const today = now.getDay(); // 0: Ch·ªß nh·∫≠t, 1: Th·ª© 2, ..., 6: Th·ª© 7
            let scheduleIndex = 0;
            
            if (today === 0) { // Ch·ªß nh·∫≠t
                scheduleIndex = 2;
            } else if (today === 2 || today === 4) { // Th·ª© 3, 5
                scheduleIndex = 1;
            } else { // Th·ª© 2, 4, 6, 7
                scheduleIndex = 0;
            }
            
            const todaySchedule = schedules[scheduleIndex];
            const timelineContent = document.getElementById('timeline-content');
            timelineContent.innerHTML = '';
            
            todaySchedule.forEach(item => {
                const [startTime, endTime] = item.time.split(' - ');
                const start = convertTimeToDecimal(startTime);
                const end = convertTimeToDecimal(endTime);
                
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item';
                
                if (currentTime >= start && currentTime < end) {
                    timelineItem.classList.add('current-item');
                }
                
                timelineItem.innerHTML = `
                    <div class="timeline-time">${item.time}</div>
                    <div class="timeline-marker">
                        <div class="timeline-dot"></div>
                        <div class="timeline-line"></div>
                    </div>
                    <div class="timeline-content">
                        <strong>${item.activity}</strong>
                        <p>${item.note}</p>
                    </div>
                `;
                
                timelineContent.appendChild(timelineItem);
            });
        }

        // Chuy·ªÉn ƒë·ªïi th·ªùi gian d·∫°ng "22h30" th√†nh s·ªë th·∫≠p ph√¢n
        function convertTimeToDecimal(timeStr) {
            if (timeStr.includes('h')) {
                const [hours, minutes] = timeStr.split('h');
                return parseInt(hours) + (minutes ? parseInt(minutes) / 60 : 0);
            }
            return 0;
        }

        // T√≠nh to√°n th·ªëng k√™
        function calculateStats() {
            let totalStudy = 0;
            let totalSleep = 0;
            let totalSelfStudy = 0;
            
            schedules[0].forEach(item => {
                if (item.category === "study" || item.category === "homework") {
                    totalStudy += item.duration;
                }
                if (item.category === "sleep") {
                    totalSleep += item.duration;
                }
                if (item.category === "study") {
                    totalSelfStudy += item.duration;
                }
            });
            
            document.getElementById("total-study").textContent = totalStudy.toFixed(1) + "h";
            document.getElementById("total-sleep").textContent = totalSleep.toFixed(1) + "h";
            document.getElementById("total-self-study").textContent = totalSelfStudy.toFixed(1) + "h";
            
            return { totalStudy, totalSleep, totalSelfStudy };
        }
        
        // Hi·ªÉn th·ªã th·ªùi kh√≥a bi·ªÉu
        function showSchedule(index) {
            const tbody = document.querySelector("#schedule tbody");
            tbody.innerHTML = "";
            
            schedules[index].forEach(item => {
                const row = document.createElement("tr");
                
                // Ki·ªÉm tra n·∫øu l√† c√°c m·ª•c quan tr·ªçng ƒë·ªÉ th√™m l·ªõp highlight
                if (item.highlight) {
                    row.classList.add("highlight");
                }
                
                if (item.homework) {
                    row.classList.add("homework");
                }
                
                if (item.category === "sleep") {
                    row.classList.add("sleep");
                }
                
                row.innerHTML = `
                    <td class="time-col">${item.time}</td>
                    <td>${item.activity}</td>
                    <td>${item.note}</td>
                `;
                
                tbody.appendChild(row);
            });
            
            // C·∫≠p nh·∫≠t tab active
            document.querySelectorAll(".tab").forEach((tab, i) => {
                if (i === index) {
                    tab.classList.add("active");
                } else {
                    tab.classList.remove("active");
                }
            });
            
            // Highlight ho·∫°t ƒë·ªông hi·ªán t·∫°i
            highlightCurrentActivity();
        }

        // Highlight ho·∫°t ƒë·ªông hi·ªán t·∫°i trong b·∫£ng
        function highlightCurrentActivity() {
            const now = new Date();
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();
            const currentTime = currentHour + currentMinute / 60;
            
            const rows = document.querySelectorAll("#schedule tbody tr");
            rows.forEach(row => {
                row.classList.remove("current-activity");
                
                const timeCell = row.cells[0];
                if (timeCell && timeCell.textContent.includes(" - ")) {
                    const [startStr, endStr] = timeCell.textContent.split(" - ");
                    const startTime = convertTimeToDecimal(startStr);
                    const endTime = convertTimeToDecimal(endStr);
                    
                    if (currentTime >= startTime && currentTime < endTime) {
                        row.classList.add("current-activity");
                    }
                }
            });
        }

        // Ki·ªÉm tra v√† y√™u c·∫ßu quy·ªÅn th√¥ng b√°o
        function enableNotifications() {
            if (!("Notification" in window)) {
                document.getElementById("notificationStatus").textContent = "Tr√¨nh duy·ªát n√†y kh√¥ng h·ªó tr·ª£ th√¥ng b√°o";
                document.getElementById("notificationStatus").className = "status error";
                return;
            }
            
            Notification.requestPermission().then(permission => {
                const statusElement = document.getElementById("notificationStatus");
                if (permission === "granted") {
                    statusElement.textContent = "Th√¥ng b√°o ƒë√£ ƒë∆∞·ª£c b·∫≠t th√†nh c√¥ng!";
                    statusElement.className = "status success";
                    
                    // L·∫≠p l·ªãch th√¥ng b√°o
                    scheduleNotifications();
                } else {
                    statusElement.textContent = "B·∫°n ƒë√£ t·ª´ ch·ªëi th√¥ng b√°o. B·∫°n c√≥ th·ªÉ b·∫≠t l·∫°i trong c√†i ƒë·∫∑t tr√¨nh duy·ªát.";
                    statusElement.className = "status error";
                }
            });
        }
        
        // Test notification
        function testNotify() {
            if (Notification.permission === "granted") {
                new Notification("Th√¥ng b√°o t·ª´ Th·ªùi Kh√≥a Bi·ªÉu", {
                    body: "ƒê√¢y l√† th√¥ng b√°o ki·ªÉm tra. B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c nh·∫Øc nh·ªü cho c√°c ho·∫°t ƒë·ªông s·∫Øp t·ªõi.",
                    icon: "https://cdn-icons-png.flaticon.com/512/1827/1827504.png",
                    tag: "test-notification"
                });
            } else {
                document.getElementById("notificationStatus").textContent = "Vui l√≤ng b·∫≠t th√¥ng b√°o tr∆∞·ªõc khi ki·ªÉm tra";
                document.getElementById("notificationStatus").className = "status error";
            }
        }
        
        // L·∫≠p l·ªãch th√¥ng b√°o
        function scheduleNotifications() {
            // ƒê√¢y l√† n∆°i b·∫°n s·∫Ω l·∫≠p l·ªãch th√¥ng b√°o d·ª±a tr√™n th·ªùi gian bi·ªÉu
            // Trong th·ª±c t·∫ø, b·∫°n s·∫Ω s·ª≠ d·ª•ng Service Worker ƒë·ªÉ l·∫≠p l·ªãch th√¥ng b√°o ch√≠nh x√°c
            console.log("ƒê√£ l·∫≠p l·ªãch th√¥ng b√°o");
        }

        // Kh·ªüi t·∫°o
        document.addEventListener("DOMContentLoaded", () => {
            showSchedule(0);
            calculateStats();
            updateDateTime();
            
            // C·∫≠p nh·∫≠t th·ªùi gian m·ªói gi√¢y
            setInterval(updateDateTime, 1000);
            
            // C·∫≠p nh·∫≠t highlight m·ªói ph√∫t
            setInterval(highlightCurrentActivity, 60000);
        });
    </script>
</body>
</html>
      </tr>
    </thead>
    <tbody id="scheduleBody"></tbody>
  </table>

  <h3>Th·ªëng k√™</h3>
  <div id="stats"></div>

  <button id="testNotify">üîî Test Th√¥ng B√°o</button>

  <!-- Firebase SDK -->
  <script type="module" src="script.js"></script>
</body>
</html>
