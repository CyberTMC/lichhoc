<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="L·ªãch h·ªçc">
  <title>L·ªãch h·ªçc & sinh ho·∫°t</title>
  <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #f4f7fa;
      margin: 0;
      padding: 0;
      color: #333;
    }
    header {
      background: linear-gradient(90deg, #2575fc, #6a11cb);
      color: white;
      text-align: center;
      padding: 20px 15px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 {
      margin: 0;
      font-size: 1.8rem;
    }
    .subtitle {
      margin: 5px 0 0;
      font-weight: normal;
      font-size: 1rem;
      opacity: 0.9;
    }
    nav {
      display: flex;
      justify-content: center;
      background: #e9ecef;
      padding: 10px;
      flex-wrap: wrap;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    nav button {
      margin: 5px;
      padding: 10px 15px;
      border: none;
      border-radius: 20px;
      background: #6c757d;
      color: white;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s;
      flex: 1;
      max-width: 150px;
    }
    nav button.active {
      background: #2575fc;
      box-shadow: 0 2px 5px rgba(37, 117, 252, 0.3);
    }
    nav button:hover {
      transform: translateY(-2px);
    }
    section {
      display: none;
      padding: 20px;
      animation: fadeIn 0.5s;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    section.active {
      display: block;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 3px 10px rgba(0,0,0,0.05);
    }
    th, td {
      padding: 12px 15px;
      text-align: left;
    }
    th {
      background: #2575fc;
      color: white;
      font-weight: 600;
    }
    tr:nth-child(even) {
      background: #f8f9fa;
    }
    tr:hover {
      background: #e9ecef;
    }
    .current {
      background: #fff3cd !important;
      font-weight: bold;
    }
    footer {
      text-align: center;
      padding: 15px;
      background: #e9ecef;
      font-size: 14px;
      margin-top: 20px;
      color: #6c757d;
    }
    .notification-section {
      background: white;
      margin: 20px;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.05);
    }
    .btn {
      display: inline-block;
      padding: 10px 20px;
      background: #28a745;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin: 5px;
      transition: background 0.3s;
    }
    .btn:hover {
      background: #218838;
    }
    .btn-secondary {
      background: #6c757d;
    }
    .btn-secondary:hover {
      background: #5a6268;
    }
    #testBtn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 15px;
      border: none;
      border-radius: 50%;
      background: #2575fc;
      color: white;
      font-size: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      cursor: pointer;
      z-index: 1000;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .instructions {
      background: #d4edda;
      border-left: 4px solid #28a745;
      padding: 15px;
      margin: 20px;
      border-radius: 5px;
      font-size: 14px;
    }
    .instructions h3 {
      margin-top: 0;
      color: #155724;
    }
    .highlight {
      background: #ffeaa7;
      padding: 2px 5px;
      border-radius: 3px;
    }
    @media (max-width: 600px) {
      nav button {
        padding: 8px 12px;
        font-size: 13px;
      }
      th, td {
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>üìÖ L·ªãch h·ªçc & sinh ho·∫°t</h1>
    <p class="subtitle">C√¢n b·∫±ng gi·ªØa h·ªçc t·∫≠p v√† ngh·ªâ ng∆°i</p>
  </header>

  <nav>
    <button onclick="showTab('monWedFriSat')" class="active">Th·ª© 2-4-6-7</button>
    <button onclick="showTab('tueThu')">Th·ª© 3-5</button>
    <button onclick="showTab('sunday')">Ch·ªß nh·∫≠t</button>
  </nav>

  <div class="notification-section">
    <h2>üîî Thi·∫øt l·∫≠p th√¥ng b√°o</h2>
    <p>Nh·∫≠n th√¥ng b√°o nh·∫Øc nh·ªü ho·∫°t ƒë·ªông h√†ng ng√†y:</p>
    <button class="btn" onclick="enableNotifications()">B·∫≠t th√¥ng b√°o</button>
    <button class="btn btn-secondary" onclick="testNotify()">Ki·ªÉm tra th√¥ng b√°o</button>
    <p id="notificationStatus">Tr·∫°ng th√°i: Ch∆∞a k√≠ch ho·∫°t</p>
  </div>

  <div class="instructions">
    <h3>üì± H∆∞·ªõng d·∫´n hi·ªÉn th·ªã th√¥ng b√°o tr√™n iPhone</h3>
    <p>1. Nh·∫•n <span class="highlight">"B·∫≠t th√¥ng b√°o"</span> v√† cho ph√©p tr√¨nh duy·ªát g·ª≠i th√¥ng b√°o</p>
    <p>2. Th√™m trang web v√†o m√†n h√¨nh ch√≠nh: Nh·∫•n <span class="highlight">Chia s·∫ª ‚Üí Th√™m v√†o M√†n h√¨nh ch√≠nh</span></p>
    <p>3. M·ªü ·ª©ng d·ª•ng t·ª´ m√†n h√¨nh ch√≠nh ƒë·ªÉ nh·∫≠n th√¥ng b√°o ngay c·∫£ khi tr√¨nh duy·ªát ƒë√≥ng</p>
  </div>

  <section id="monWedFriSat" class="active">
    <h2>üìÖ L·ªãch Th·ª© 2, 4, 6, 7</h2>
    <table>
      <tr><th>Th·ªùi gian</th><th>Ho·∫°t ƒë·ªông</th><th>Ghi ch√∫</th></tr>
      <tr><td>22h30 - 2h00</td><td>Ng·ªß ch√≠nh</td><td>Gi·∫•c ng·ªß quan tr·ªçng nh·∫•t</td></tr>
      <tr><td>2h00 - 3h30</td><td>To√°n</td><td>T·∫≠p trung cao ƒë·ªô</td></tr>
      <tr><td>3h30 - 4h15</td><td>Tin</td><td>Th·ª±c h√†nh b√†i t·∫≠p</td></tr>
      <tr><td>4h15 - 5h00</td><td>Anh</td><td>T·ª´ v·ª±ng v√† ng·ªØ ph√°p</td></tr>
      <tr><td>5h00 - 5h30</td><td>ƒÇn nh·∫π, th∆∞ gi√£n</td><td>B·ªï sung nƒÉng l∆∞·ª£ng</td></tr>
      <tr><td>5h30 - 6h00</td><td>V·ªá sinh, chu·∫©n b·ªã</td><td>Chu·∫©n b·ªã s√°ch v·ªü</td></tr>
      <tr><td>6h00 - 11h30</td><td>ƒêi h·ªçc bu·ªïi s√°ng</td><td>T·∫≠p trung nghe gi·∫£ng</td></tr>
      <tr><td>11h30 - 13h30</td><td>ƒÇn tr∆∞a + Ng·ªß</td><td>Ngh·ªâ ng∆°i quan tr·ªçng</td></tr>
      <tr><td>13h30 - 14h00</td><td>Chu·∫©n b·ªã bu·ªïi chi·ªÅu</td><td>Chu·∫©n b·ªã s√°ch v·ªü</td></tr>
      <tr><td>14h00 - 16h35</td><td>ƒêi h·ªçc bu·ªïi chi·ªÅu</td><td>T·∫≠p trung nghe gi·∫£ng</td></tr>
      <tr><td>16h35 - 17h30</td><td>V·ªÅ nh√†, th∆∞ gi√£n</td><td>Ngh·ªâ ng∆°i sau gi·ªù h·ªçc</td></tr>
      <tr><td>17h30 - 19h30</td><td>ƒÇn t·ªëi + Ngh·ªâ ng∆°i</td><td>ƒÇn t·ªëi ƒë√∫ng gi·ªù</td></tr>
      <tr><td>19h30 - 20h30</td><td>L√†m b√†i t·∫≠p</td><td>∆Øu ti√™n m√¥n quan tr·ªçng</td></tr>
      <tr><td>20h30 - 21h30</td><td>To√°n</td><td>Luy·ªán t·∫≠p, l√†m b√†i t·∫≠p</td></tr>
      <tr><td>21h30 - 22h30</td><td>Anh</td><td>T·ª´ v·ª±ng, ng·ªØ ph√°p, luy·ªán nghe</td></tr>
    </table>
  </section>

  <section id="tueThu">
    <h2>üìÖ L·ªãch Th·ª© 3, 5</h2>
    <table>
      <tr><th>Th·ªùi gian</th><th>Ho·∫°t ƒë·ªông</th><th>Ghi ch√∫</th></tr>
      <tr><td>22h30 - 2h00</td><td>Ng·ªß ch√≠nh</td><td>Gi·∫•c ng·ªß quan tr·ªçng nh·∫•t</td></tr>
      <tr><td>2h00 - 3h30</td><td>To√°n</td><td>T·∫≠p trung cao ƒë·ªô</td></tr>
      <tr><td>3h30 - 4h15</td><td>Anh</td><td>T·ª´ v·ª±ng v√† ng·ªØ ph√°p</td></tr>
      <tr><td>4h15 - 5h00</td><td>M√¥n ph·ª•</td><td>S·ª≠/ƒê·ªãa/GDCD...</td></tr>
      <tr><td>5h00 - 5h30</td><td>ƒÇn nh·∫π, th∆∞ gi√£n</td><td>B·ªï sung nƒÉng l∆∞·ª£ng</td></tr>
      <tr><td>5h30 - 6h00</td><td>V·ªá sinh, chu·∫©n b·ªã</td><td>Chu·∫©n b·ªã s√°ch v·ªü</td></tr>
      <tr><td>6h00 - 11h30</td><td>ƒêi h·ªçc bu·ªïi s√°ng</td><td>T·∫≠p trung nghe gi·∫£ng</td></tr>
      <tr><td>11h30 - 13h30</td><td>ƒÇn tr∆∞a + Ng·ªß</td><td>Ngh·ªâ ng∆°i quan tr·ªçng</td></tr>
      <tr><td>13h30 - 14h00</td><td>Chu·∫©n b·ªã bu·ªïi chi·ªÅu</td><td>Chu·∫©n b·ªã s√°ch v·ªü</td></tr>
      <tr><td>14h00 - 16h35</td><td>ƒêi h·ªçc bu·ªïi chi·ªÅu</td><td>T·∫≠p trung nghe gi·∫£ng</td></tr>
      <tr><td>16h35 - 17h30</td><td>Chu·∫©n b·ªã ƒëi h·ªçc th√™m</td><td>Chu·∫©n b·ªã nhanh</td></tr>
      <tr><td>17h30 - 19h30</td><td>H·ªçc th√™m To√°n</td><td>T·∫≠p trung cao ƒë·ªô</td></tr>
      <tr><td>19h30 - 20h30</td><td>ƒÇn t·ªëi mu·ªôn + B√†i t·∫≠p</td><td>ƒÇn nh·∫π, d·ªÖ ti√™u</td></tr>
      <tr><td>20h30 - 21h30</td><td>√în To√°n</td><td>√în luy·ªán l·∫°i b√†i v·ª´a h·ªçc</td></tr>
      <tr><td>21h30 - 22h30</td><td>Anh</td><td>T·ª´ v·ª±ng, ng·ªØ ph√°p, luy·ªán nghe</td></tr>
    </table>
  </section>

  <section id="sunday">
    <h2>üìÖ L·ªãch Ch·ªß nh·∫≠t</h2>
    <table>
      <tr><th>Th·ªùi gian</th><th>Ho·∫°t ƒë·ªông</th><th>Ghi ch√∫</th></tr>
      <tr><td>22h30 - 2h00</td><td>Ng·ªß ch√≠nh</td><td>Gi·∫•c ng·ªß quan tr·ªçng nh·∫•t</td></tr>
      <tr><td>2h00 - 3h30</td><td>Tin</td><td>Th·ª±c h√†nh b√†i t·∫≠p</td></tr>
      <tr><td>3h30 - 4h15</td><td>Anh</td><td>T·ª´ v·ª±ng v√† ng·ªØ ph√°p</td></tr>
      <tr><td>4h15 - 5h00</td><td>To√°n</td><td>Luy·ªán t·∫≠p, l√†m b√†i t·∫≠p</td></tr>
      <tr><td>5h00 - 5h30</td><td>ƒÇn nh·∫π, th∆∞ gi√£n</td><td>B·ªï sung nƒÉng l∆∞·ª£ng</td></tr>
      <tr><td>5h30 - 6h00</td><td>V·ªá sinh c√° nh√¢n</td><td>V·ªá sinh bu·ªïi s√°ng</td></tr>
      <tr><td>6h00 - 11h30</td><td>T·ª± h·ªçc m√¥n ph·ª• / Ngh·ªâ</td><td>H·ªçc nh·∫π nh√†ng ho·∫∑c ngh·ªâ ng∆°i</td></tr>
      <tr><td>11h30 - 13h30</td><td>ƒÇn tr∆∞a + Ng·ªß</td><td>Ngh·ªâ ng∆°i quan tr·ªçng</td></tr>
      <tr><td>13h30 - 14h00</td><td>Th∆∞ gi√£n</td><td>Xem phim, nghe nh·∫°c...</td></tr>
      <tr><td>14h00 - 16h35</td><td>L√†m b√†i t·∫≠p cu·ªëi tu·∫ßn</td><td>Ho√†n th√†nh b√†i t·∫≠p t·ªìn ƒë·ªçng</td></tr>
      <tr><td>16h35 - 17h30</td><td>Ngh·ªâ ng∆°i</td><td>Th∆∞ gi√£n</td></tr>
      <tr><td>17h30 - 19h30</td><td>ƒÇn t·ªëi + Ngh·ªâ ng∆°i</td><td>ƒÇn t·ªëi v√† ngh·ªâ ng∆°i</td></tr>
      <tr><td>19h30 - 20h30</td><td>√în t·∫≠p t·ªïng h·ª£p</td><td>Xem l·∫°i ki·∫øn th·ª©c tu·∫ßn qua</td></tr>
      <tr><td>20h30 - 21h30</td><td>To√°n luy·ªán ƒë·ªÅ</td><td>Luy·ªán ƒë·ªÅ t·ªïng h·ª£p</td></tr>
      <tr><td>21h30 - 22h30</td><td>√în t·∫•t c·∫£ m√¥n</td><td>Xem l·∫°i notes c√°c m√¥n</td></tr>
    </table>
  </section>

  <footer>
    ‚úÖ Th·ªëng k√™: H·ªçc ~8.5h/ng√†y | Ng·ªß ~3.5h | T·ª± h·ªçc ~6.5h
  </footer>

  <button id="testBtn" onclick="testNotify()">üîî</button>

  <script>
    // Chuy·ªÉn tab
    function showTab(id) {
      document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
      document.querySelectorAll("nav button").forEach(b => b.classList.remove("active"));
      document.getElementById(id).classList.add("active");
      event.target.classList.add("active");
      
      // Highlight ho·∫°t ƒë·ªông hi·ªán t·∫°i
      highlightCurrentActivity();
    }

    // Ki·ªÉm tra PWA hay Safari
    const isInStandaloneMode = () =>
      (window.matchMedia('(display-mode: standalone)').matches) || (window.navigator.standalone === true);

    // Ki·ªÉm tra v√† y√™u c·∫ßu quy·ªÅn th√¥ng b√°o
    function enableNotifications() {
      if (!("Notification" in window)) {
        alert("Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ th√¥ng b√°o.");
        return;
      }
      
      Notification.requestPermission().then(permission => {
        const statusElement = document.getElementById("notificationStatus");
        if (permission === "granted") {
          statusElement.textContent = "Tr·∫°ng th√°i: ƒê√£ b·∫≠t th√¥ng b√°o";
          statusElement.style.color = "green";
          
          if (!isInStandaloneMode()) {
            alert("‚úÖ ƒê√£ b·∫≠t th√¥ng b√°o! H√£y th√™m trang web v√†o m√†n h√¨nh ch√≠nh ƒë·ªÉ nh·∫≠n th√¥ng b√°o ngay c·∫£ khi tr√¨nh duy·ªát ƒë√≥ng.");
          } else {
            alert("‚úÖ ƒê√£ b·∫≠t th√¥ng b√°o! B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c th√¥ng b√°o nh·∫Øc nh·ªü.");
            scheduleNotifications();
          }
        } else {
          statusElement.textContent = "Tr·∫°ng th√°i: Ch∆∞a cho ph√©p th√¥ng b√°o";
          statusElement.style.color = "red";
          alert("B·∫°n c·∫ßn cho ph√©p th√¥ng b√°o ƒë·ªÉ nh·∫≠n nh·∫Øc nh·ªü.");
        }
      });
    }

    // Test notification
    function testNotify() {
      if (Notification.permission === "granted") {
        new Notification("üìö Th√¥ng b√°o t·ª´ L·ªãch h·ªçc", {
          body: "ƒê√¢y l√† th√¥ng b√°o ki·ªÉm tra. B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c nh·∫Øc nh·ªü cho c√°c ho·∫°t ƒë·ªông s·∫Øp t·ªõi.",
          icon: "https://cdn-icons-png.flaticon.com/512/1827/1827504.png",
          tag: "test-notification"
        });
      } else {
        alert("Vui l√≤ng b·∫≠t th√¥ng b√°o tr∆∞·ªõc khi ki·ªÉm tra.");
      }
    }

    // L·∫≠p l·ªãch th√¥ng b√°o
    function scheduleNotifications() {
      // ƒê√¢y l√† n∆°i b·∫°n s·∫Ω l·∫≠p l·ªãch th√¥ng b√°o d·ª±a tr√™n th·ªùi gian bi·ªÉu
      // Trong th·ª±c t·∫ø, b·∫°n s·∫Ω s·ª≠ d·ª•ng Service Worker ƒë·ªÉ l·∫≠p l·ªãch th√¥ng b√°o ch√≠nh x√°c
      console.log("ƒê√£ l·∫≠p l·ªãch th√¥ng b√°o");
    }

    // Highlight ho·∫°t ƒë·ªông hi·ªán t·∫°i
    function highlightCurrentActivity() {
      const now = new Date();
      const currentHours = now.getHours();
      const currentMinutes = now.getMinutes();
      const currentTime = currentHours + currentMinutes / 60;
      
      const tables = document.querySelectorAll("table");
      tables.forEach(table => {
        const rows = table.querySelectorAll("tr");
        rows.forEach((row, index) => {
          // B·ªè qua h√†ng ti√™u ƒë·ªÅ
          if (index === 0) return;
          
          row.classList.remove("current");
          const timeCell = row.cells[0];
          if (timeCell && timeCell.textContent.includes(" - ")) {
            const [startTime, endTime] = timeCell.textContent.split(" - ");
            const start = convertTimeToDecimal(startTime);
            const end = convertTimeToDecimal(endTime);
            
            if (currentTime >= start && currentTime < end) {
              row.classList.add("current");
            }
          }
        });
      });
    }

    // Chuy·ªÉn ƒë·ªïi th·ªùi gian d·∫°ng "22h30" th√†nh s·ªë th·∫≠p ph√¢n
    function convertTimeToDecimal(timeStr) {
      if (timeStr.includes("h")) {
        const [hours, minutes] = timeStr.split("h");
        return parseInt(hours) + (minutes ? parseInt(minutes) / 60 : 0);
      }
      return 0;
    }

    // Kh·ªüi t·∫°o
    document.addEventListener("DOMContentLoaded", function() {
      highlightCurrentActivity();
      
      // Ki·ªÉm tra tr·∫°ng th√°i th√¥ng b√°o
      if ("Notification" in window) {
        const statusElement = document.getElementById("notificationStatus");
        if (Notification.permission === "granted") {
          statusElement.textContent = "Tr·∫°ng th√°i: ƒê√£ b·∫≠t th√¥ng b√°o";
          statusElement.style.color = "green";
        } else if (Notification.permission === "denied") {
          statusElement.textContent = "Tr·∫°ng th√°i: ƒê√£ ch·∫∑n th√¥ng b√°o";
          statusElement.style.color = "red";
        }
      }
      
      // C·∫≠p nh·∫≠t highlight m·ªói ph√∫t
      setInterval(highlightCurrentActivity, 60000);
    });
  </script>
</body>
</html>