<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>L·ªãch tr√¨nh sinh ho·∫°t & h·ªçc t·∫≠p</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f0f6ff; margin: 0; padding: 20px; }
    h1 { text-align: center; color: #1565c0; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #fff; box-shadow: 0 3px 8px rgba(0,0,0,0.1); }
    th, td { border: 1px solid #ddd; padding: 12px; text-align: center; }
    th { background: #1976d2; color: #fff; }
    tr:nth-child(even) { background: #f9f9f9; }
    button { margin: 15px auto; display: block; padding: 10px 20px; font-size: 16px; border: none; border-radius: 5px; background: #1976d2; color: white; cursor: pointer; }
    button:hover { background: #1565c0; }
  </style>
</head>
<body>
  <h1>üìÖ L·ªãch tr√¨nh sinh ho·∫°t & h·ªçc t·∫≠p h√¥m nay</h1>
  <div id="today"></div>

  <button onclick="testNotify()">üîî Test th√¥ng b√°o</button>

  <table>
    <thead>
      <tr>
        <th>Th·ªùi gian</th>
        <th>Ho·∫°t ƒë·ªông</th>
        <th>Ghi ch√∫</th>
      </tr>
    </thead>
    <tbody id="schedule-body"></tbody>
  </table>

  <script>
    // === L·ªãch tr√¨nh (gi·ªØ nguy√™n nh∆∞ tr∆∞·ªõc) ===
    const schedules = {
      "2467": [
        { time: "22:30-02:00", act: "Ng·ªß ch√≠nh", note: "Gi·∫•c ng·ªß quan tr·ªçng nh·∫•t" },
        { time: "02:00-03:30", act: "To√°n", note: "T·∫≠p trung cao ƒë·ªô" },
        { time: "03:30-04:15", act: "Tin", note: "Th·ª±c h√†nh b√†i t·∫≠p" },
        { time: "04:15-05:00", act: "Anh", note: "T·ª´ v·ª±ng v√† ng·ªØ ph√°p" },
        { time: "05:00-05:30", act: "ƒÇn nh·∫π, th∆∞ gi√£n", note: "B·ªï sung nƒÉng l∆∞·ª£ng" },
        { time: "05:30-06:00", act: "V·ªá sinh, chu·∫©n b·ªã", note: "Chu·∫©n b·ªã s√°ch v·ªü" },
        { time: "06:00-11:30", act: "ƒêi h·ªçc bu·ªïi s√°ng", note: "T·∫≠p trung nghe gi·∫£ng" },
        { time: "11:30-13:30", act: "ƒÇn tr∆∞a + Ng·ªß", note: "Ngh·ªâ ng∆°i quan tr·ªçng" },
        { time: "13:30-14:00", act: "Chu·∫©n b·ªã bu·ªïi chi·ªÅu", note: "Chu·∫©n b·ªã s√°ch v·ªü" },
        { time: "14:00-16:35", act: "ƒêi h·ªçc bu·ªïi chi·ªÅu", note: "T·∫≠p trung nghe gi·∫£ng" },
        { time: "16:35-17:30", act: "V·ªÅ nh√†, th∆∞ gi√£n", note: "Ngh·ªâ ng∆°i sau gi·ªù h·ªçc" },
        { time: "17:30-19:30", act: "ƒÇn t·ªëi + Ngh·ªâ ng∆°i", note: "ƒÇn t·ªëi ƒë√∫ng gi·ªù" },
        { time: "19:30-20:30", act: "L√†m b√†i t·∫≠p tr√™n l·ªõp", note: "∆Øu ti√™n m√¥n quan tr·ªçng" },
        { time: "20:30-21:30", act: "To√°n", note: "Luy·ªán t·∫≠p, l√†m b√†i t·∫≠p" },
        { time: "21:30-22:30", act: "Anh", note: "T·ª´ v·ª±ng, ng·ªØ ph√°p, luy·ªán nghe" }
      ],
      "35": [
        { time: "22:30-02:00", act: "Ng·ªß ch√≠nh", note: "Gi·∫•c ng·ªß quan tr·ªçng nh·∫•t" },
        { time: "02:00-03:30", act: "To√°n", note: "T·∫≠p trung cao ƒë·ªô" },
        { time: "03:30-04:15", act: "Anh", note: "T·ª´ v·ª±ng v√† ng·ªØ ph√°p" },
        { time: "04:15-05:00", act: "M√¥n ph·ª•", note: "S·ª≠/ƒê·ªãa/GDCD..." },
        { time: "05:00-05:30", act: "ƒÇn nh·∫π, th∆∞ gi√£n", note: "B·ªï sung nƒÉng l∆∞·ª£ng" },
        { time: "05:30-06:00", act: "V·ªá sinh, chu·∫©n b·ªã", note: "Chu·∫©n b·ªã s√°ch v·ªü" },
        { time: "06:00-11:30", act: "ƒêi h·ªçc bu·ªïi s√°ng", note: "T·∫≠p trung nghe gi·∫£ng" },
        { time: "11:30-13:30", act: "ƒÇn tr∆∞a + Ng·ªß", note: "Ngh·ªâ ng∆°i quan tr·ªçng" },
        { time: "13:30-14:00", act: "Chu·∫©n b·ªã bu·ªïi chi·ªÅu", note: "Chu·∫©n b·ªã s√°ch v·ªü" },
        { time: "14:00-16:35", act: "ƒêi h·ªçc bu·ªïi chi·ªÅu", note: "T·∫≠p trung nghe gi·∫£ng" },
        { time: "16:35-17:30", act: "V·ªÅ nh√† nhanh, chu·∫©n b·ªã", note: "Chu·∫©n b·ªã ƒëi h·ªçc th√™m" },
        { time: "17:30-19:30", act: "ƒêi h·ªçc th√™m To√°n", note: "T·∫≠p trung cao ƒë·ªô" },
        { time: "19:30-20:30", act: "V·ªÅ nh√†, ƒÉn t·ªëi mu·ªôn + L√†m b√†i t·∫≠p", note: "ƒÇn nh·∫π, d·ªÖ ti√™u v√† l√†m b√†i t·∫≠p" },
        { time: "20:30-21:30", act: "To√°n", note: "√în luy·ªán l·∫°i b√†i v·ª´a h·ªçc" },
        { time: "21:30-22:30", act: "Anh", note: "T·ª´ v·ª±ng, ng·ªØ ph√°p, luy·ªán nghe" }
      ],
      "0": [
        { time: "22:30-02:00", act: "Ng·ªß ch√≠nh", note: "Gi·∫•c ng·ªß quan tr·ªçng nh·∫•t" },
        { time: "02:00-03:30", act: "Tin", note: "Th·ª±c h√†nh b√†i t·∫≠p" },
        { time: "03:30-04:15", act: "Anh", note: "T·ª´ v·ª±ng v√† ng·ªØ ph√°p" },
        { time: "04:15-05:00", act: "To√°n", note: "Luy·ªán t·∫≠p, l√†m b√†i t·∫≠p" },
        { time: "05:00-05:30", act: "ƒÇn nh·∫π, th∆∞ gi√£n", note: "B·ªï sung nƒÉng l∆∞·ª£ng" },
        { time: "05:30-06:00", act: "V·ªá sinh c√° nh√¢n", note: "V·ªá sinh bu·ªïi s√°ng" },
        { time: "06:00-11:30", act: "T·ª± h·ªçc m√¥n ph·ª• / Ngh·ªâ ng∆°i", note: "H·ªçc nh·∫π nh√†ng ho·∫∑c ngh·ªâ ng∆°i" },
        { time: "11:30-13:30", act: "ƒÇn tr∆∞a + Ng·ªß", note: "Ngh·ªâ ng∆°i quan tr·ªçng" },
        { time: "13:30-14:00", act: "Th∆∞ gi√£n", note: "Xem phim, nghe nh·∫°c..." },
        { time: "14:00-16:35", act: "L√†m b√†i t·∫≠p cu·ªëi tu·∫ßn", note: "Ho√†n th√†nh b√†i t·∫≠p t·ªìn ƒë·ªçng" },
        { time: "16:35-17:30", act: "Ngh·ªâ ng∆°i", note: "Th∆∞ gi√£n" },
        { time: "17:30-19:30", act: "ƒÇn t·ªëi + Ngh·ªâ ng∆°i", note: "ƒÇn t·ªëi v√† ngh·ªâ ng∆°i" },
        { time: "19:30-20:30", act: "√în t·∫≠p t·ªïng h·ª£p", note: "Xem l·∫°i ki·∫øn th·ª©c tu·∫ßn qua" },
        { time: "20:30-21:30", act: "To√°n (luy·ªán ƒë·ªÅ, t·ªïng h·ª£p)", note: "Luy·ªán ƒë·ªÅ t·ªïng h·ª£p" },
        { time: "21:30-22:30", act: "√în t·∫•t c·∫£ m√¥n (nh·∫π nh√†ng)", note: "Xem l·∫°i notes c√°c m√¥n" }
      ]
    };

    // === L·∫•y l·ªãch h√¥m nay ===
    const day = new Date().getDay();
    let todaySchedule = [];
    if ("2467".includes(day)) todaySchedule = schedules["2467"];
    else if ("35".includes(day)) todaySchedule = schedules["35"];
    else todaySchedule = schedules["0"];

    document.getElementById("today").innerText =
      "H√¥m nay l√† Th·ª© " + (day === 0 ? "Ch·ªß Nh·∫≠t" : day);

    // Hi·ªÉn th·ªã l·ªãch
    const tbody = document.getElementById("schedule-body");
    todaySchedule.forEach(item => {
      const tr = document.createElement("tr");
      tr.innerHTML = `<td>${item.time}</td><td>${item.act}</td><td>${item.note}</td>`;
      tbody.appendChild(tr);
    });

    // === Cho ph√©p th√¥ng b√°o ===
    if ("Notification" in window) {
      Notification.requestPermission();
    }

    // H√†m test th√¥ng b√°o
    function testNotify() {
      if (Notification.permission === "granted") {
        new Notification("üîî Test th√¥ng b√°o", { body: "Th√¥ng b√°o ho·∫°t ƒë·ªông th√†nh c√¥ng!" });
      } else {
        alert("B·∫°n ch∆∞a b·∫≠t quy·ªÅn th√¥ng b√°o!");
      }
    }

    // Ki·ªÉm tra t·ª± ƒë·ªông khi ƒë·∫øn gi·ªù
    function checkTime() {
      const now = new Date();
      const h = now.getHours();
      const m = now.getMinutes();
      todaySchedule.forEach(item => {
        const [start] = item.time.split("-");
        const [sh, sm] = start.split(":").map(Number);
        if (h === sh && m === sm) {
          if (Notification.permission === "granted") {
            new Notification("‚è∞ " + item.act, { body: item.note });
          }
        }
      });
    }
    setInterval(checkTime, 60000);
  </script>
</body>
</html>
